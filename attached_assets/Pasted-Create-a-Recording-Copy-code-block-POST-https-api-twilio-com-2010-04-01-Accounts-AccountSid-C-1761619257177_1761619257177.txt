Create a Recording



Copy code block
POST https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Calls/{CallsSid}/Recordings.json
To start a recording on a live call, make a POST request to the Recordings subresource of an in-progress Call.

Note that the maximum length of the recording can be up to the maximum length of the Call itself.

(warning)
Legal implications of call recording
If you choose to record voice or video calls, you need to comply with certain laws and regulations, including those regarding obtaining consent to record (such as California's Invasion of Privacy Act and similar laws in other jurisdictions). Additional information on the legal implications of call recording can be found in the "Legal Considerations with Recording Voice and Video Communications" Help Center article
.

Notice: Twilio recommends that you consult with your legal counsel to make sure that you are complying with all applicable laws in connection with communications you record or store using Twilio.

Optional parameters


The following optional parameters are available for you to POST when starting a recording on a live call:

Path parameters


Property nameTypeRequiredPIIDescription
accountSid
SID<AC>
required
Not PII
The SID of the Account that will create the resource.

Pattern:
^AC[0-9a-fA-F]{32}$
Min length:
34
Max length:
34
callSid
SID<CA>
required
Not PII
The SID of the Call to associate the resource with.

Pattern:
^CA[0-9a-fA-F]{32}$
Min length:
34
Max length:
34
Request body parameters


Encoding type:application/x-www-form-urlencoded
Schema
Example
Property nameTypeRequiredPIIDescriptionChild properties
recordingStatusCallbackEvent
array[string]
Optional
Not PII
The recording status events on which we should call the recording_status_callback URL. Can be: in-progress, completed and absent and the default is completed. Separate multiple event values with a space.

recordingStatusCallback
string<uri>
Optional
Not PII
The URL we should call using the recording_status_callback_method on each recording event specified in recording_status_callback_event. For more information, see RecordingStatusCallback parameters.

recordingStatusCallbackMethod
enum<http-method>
Optional
Not PII
The HTTP method we should use to call recording_status_callback. Can be: GET or POST and the default is POST.

Possible values:
GET
POST
trim
string
Optional
Not PII
Whether to trim any leading and trailing silence in the recording. Can be: trim-silence or do-not-trim and the default is do-not-trim. trim-silence trims the silence from the beginning and end of the recording and do-not-trim does not.

recordingChannels
string
Optional
Not PII
The number of channels used in the recording. Can be: mono or dual and the default is mono. mono records all parties of the call into one channel. dual records each party of a 2-party call into separate channels.

recordingTrack
string
Optional
Not PII
The audio track to record for the call. Can be: inbound, outbound or both. The default is both. inbound records the audio that is received by Twilio. outbound records the audio that is generated from Twilio. both records the audio that is received and generated by Twilio.

RecordingStatusCallback


Twilio will pass the following parameters with its request to your RecordingStatusCallback URL:

Parameter	Description
AccountSid	The unique identifier of the Account responsible for this recording.
CallSid	A unique identifier for the call associated with the recording.
RecordingSid	The unique identifier for the recording.
RecordingUrl	The URL of the recorded audio.
RecordingStatus	The status of the recording. Possible values are: in-progress, completed, absent.
RecordingDuration	The length of the recording, in seconds (only provided when RecordingStatus is completed).
RecordingChannels	The number of channels in the final recording file as an integer. Possible values are 1, 2.
RecordingStartTime	The timestamp of when the recording started.
RecordingSource	The initiation method used to create this recording. For recordings initiated with this API, the value will be StartCallRecordingAPI.
RecordingTrack	The audio track recorded. Possible values are inbound, outbound or both.
Create a Recording on a live call

Node.js

Report code block

Copy code block
// Download the helper library from https://www.twilio.com/docs/node/install
const twilio = require("twilio"); // Or, for ESM: import twilio from "twilio";

// Find your Account SID and Auth Token at twilio.com/console
// and set the environment variables. See http://twil.io/secure
const accountSid = process.env.TWILIO_ACCOUNT_SID;
const authToken = process.env.TWILIO_AUTH_TOKEN;
const client = twilio(accountSid, authToken);

async function createCallRecording() {
  const recording = await client
    .calls("CAXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX")
    .recordings.create();

  console.log(recording.accountSid);
}

createCallRecording();
Response

Copy response
{
  "account_sid": "ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "api_version": "2010-04-01",
  "call_sid": "CAXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "conference_sid": null,
  "channels": 2,
  "date_created": "Fri, 14 Oct 2016 21:56:34 +0000",
  "date_updated": "Fri, 14 Oct 2016 21:56:34 +0000",
  "start_time": "Fri, 14 Oct 2016 21:56:34 +0000",
  "price": null,
  "price_unit": null,
  "duration": null,
  "sid": "REaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
  "source": "StartCallRecordingAPI",
  "status": "in-progress",
  "error_code": null,
  "encryption_details": null,
  "track": "both",
  "uri": "/2010-04-01/Accounts/ACaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Calls/CAaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Recordings/REaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.json"
}
Create a dual-channel Recording with RecordingStatusCallback

Node.js

Report code block

Copy code block
// Download the helper library from https://www.twilio.com/docs/node/install
const twilio = require("twilio"); // Or, for ESM: import twilio from "twilio";

// Find your Account SID and Auth Token at twilio.com/console
// and set the environment variables. See http://twil.io/secure
const accountSid = process.env.TWILIO_ACCOUNT_SID;
const authToken = process.env.TWILIO_AUTH_TOKEN;
const client = twilio(accountSid, authToken);

async function createCallRecording() {
  const recording = await client
    .calls("CAXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX")
    .recordings.create({
      recordingChannels: "dual",
      recordingStatusCallback: "https://myapp.com/recording-events",
      recordingStatusCallbackEvent: ["in-progress completed"],
    });

  console.log(recording.accountSid);
}

createCallRecording();
Response

Copy response
{
  "account_sid": "ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "api_version": "2010-04-01",
  "call_sid": "CAXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "conference_sid": null,
  "channels": 2,
  "date_created": "Fri, 14 Oct 2016 21:56:34 +0000",
  "date_updated": "Fri, 14 Oct 2016 21:56:34 +0000",
  "start_time": "Fri, 14 Oct 2016 21:56:34 +0000",
  "price": null,
  "price_unit": null,
  "duration": null,
  "sid": "REaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
  "source": "StartCallRecordingAPI",
  "status": "in-progress",
  "error_code": null,
  "encryption_details": null,
  "track": "both",
  "uri": "/2010-04-01/Accounts/ACaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Calls/CAaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Recordings/REaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.json"
}
Retrieve a Recording


You can retrieve a Recording's metadata or you can retrieve a WAV or MP3 media file of the Recording.

Retrieve a Recording's metadata



Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Recordings/{Sid}.json
A Recording's metadata can be returned in JSON or XML format.

For JSON format, append .json to the Recording's URI.
For XML format, append .xml to the Recording's URI.
The table below lists the parameters for fetching a Recording's metadata.

Path parameters


Property nameTypeRequiredPIIDescription
accountSid
SID<AC>
required
Not PII
The SID of the Account that created the Recording resource to fetch.

Pattern:
^AC[0-9a-fA-F]{32}$
Min length:
34
Max length:
34
sid
SID<RE>
required
Not PII
The Twilio-provided string that uniquely identifies the Recording resource to fetch.

Pattern:
^RE[0-9a-fA-F]{32}$
Min length:
34
Max length:
34
Query parameters


Property nameTypeRequiredPIIDescription
includeSoftDeleted
boolean
Optional
Not PII
A boolean parameter indicating whether to retrieve soft deleted recordings or not. Recordings metadata are kept after deletion for a retention period of 40 days.

Retrieve a Recording's metadata in JSON format

Node.js

Report code block

Copy code block
// Download the helper library from https://www.twilio.com/docs/node/install
const twilio = require("twilio"); // Or, for ESM: import twilio from "twilio";

// Find your Account SID and Auth Token at twilio.com/console
// and set the environment variables. See http://twil.io/secure
const accountSid = process.env.TWILIO_ACCOUNT_SID;
const authToken = process.env.TWILIO_AUTH_TOKEN;
const client = twilio(accountSid, authToken);

async function fetchRecording() {
  const recording = await client
    .recordings("REXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX")
    .fetch();

  console.log(recording.accountSid);
}

fetchRecording();
Response

Copy response
{
  "account_sid": "ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "api_version": "2010-04-01",
  "call_sid": "CAaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
  "conference_sid": "CFaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
  "channels": 1,
  "date_created": "Fri, 14 Oct 2016 21:56:34 +0000",
  "date_updated": "Fri, 14 Oct 2016 21:56:38 +0000",
  "start_time": "Fri, 14 Oct 2016 21:56:34 +0000",
  "price": "-0.00250",
  "price_unit": "USD",
  "duration": "4",
  "sid": "REXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
  "source": "StartConferenceRecordingAPI",
  "status": "completed",
  "error_code": null,
  "uri": "/2010-04-01/Accounts/ACaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Recordings/REaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.json",
  "subresource_uris": {
    "add_on_results": "/2010-04-01/Accounts/ACaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Recordings/REaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/AddOnResults.json",
    "transcriptions": "/2010-04-01/Accounts/ACaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Recordings/REaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Transcriptions.json"
  },
  "encryption_details": {
    "encryption_public_key_sid": "CRaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
    "encryption_cek": "OV4h6zrsxMIW7h0Zfqwfn6TI2GCNl54KALlg8wn8YB8KYZhXt6HlgvBWAmQTlfYVeLWydMiCewY0YkDDT1xmNe5huEo9vjuKBS5OmYK4CZkSx1NVv3XOGrZHpd2Pl/5WJHVhUK//AUO87uh5qnUP2E0KoLh1nyCLeGcEkXU0RfpPn/6nxjof/n6m6OzZOyeIRK4Oed5+rEtjqFDfqT0EVKjs6JAxv+f0DCc1xYRHl2yV8bahUPVKs+bHYdy4PVszFKa76M/Uae4jFA9Lv233JqWcxj+K2UoghuGhAFbV/JQIIswY2CBYI8JlVSifSqNEl9vvsTJ8bkVMm3MKbG2P7Q==",
    "encryption_iv": "8I2hhNIYNTrwxfHk"
  },
  "media_url": "http://api.twilio.com/2010-04-01/Accounts/ACaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/Recordings/REaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
}
Retrieve a Recording's media file



Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Recordings/{Sid}.mp3
You can fetch a Recording's media file by appending .wav or .mp3 to the Recording's URI.

It's only possible to fetch a Recording's media file when the Recording's status is completed and the media is stored at Twilio.

If the media associated with a Recording resource is not available/was deleted/was uploaded to external storage, the request returns Not Found.

WAV
Without an extension, or with a ".wav", a binary WAV audio file is returned with mime-type "audio/x-wav". For example:


Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/ACXXXXX.../Recordings/RE557ce644e5ab84fa21cc21112e22c485
WAV files have a bitrate of 128kbps

MP3
Appending ".mp3" to the URI returns a binary MP3 audio file with mime-type type "audio/mpeg". For example:


Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/ACXXXXX.../Recordings/RE557ce644e5ab84fa21cc21112e22c485.mp3
MP3 files have a bitrate of 32kbps

Download dual-channel media file
Call and Conference Recordings are stored at Twilio in dual-channel format by default.

For a two-party Call, the Recording's dual-channel media file contains the audio from each call leg in separate channels.
For a Conference, the Recording's dual-channel media file contains the audio of the first participant that joined the Conference in the first channel and all other audio from the Call mixed in the second channel. Note: To access this feature, you need to enable Dual-channel Conference Recordings on the Voice Settings page in the Console
. Read the Dual-channel Conference Recordings Changelog entry
 for more information.
When sending the GET request to download a Recording's media file, the RequestedChannels query parameter can be used to specify whether the media file should be downmixed to a single channel or if the file should be downloaded in its original, dual-channel format.

If the RequestedChannels query parameter is not specified when requesting the media file for a two-party Call Recording, Twilio returns a media file in the format specified when the Recording was created.
If the RequestedChannels query parameter is not specified when requesting the media file for a Conference Recording, Twilio returns a media file in mono-channel format.
(warning)
Warning
Attempting to download a dual-channel media file when the dual-channel format is not available results in a 400 Bad Request error. This may happen in the following cases:

A Recording created with the <Record> verb. All audio from those Recordings are mixed and saved in a mono-channel media file.
Older Recordings from two-party Calls or Conferences prior to dual-channel support.
To prevent application errors while managing Recordings, you should implement retry logic when sending a GET request for a Recording's media file. If a request for a dual-channel media file fails, retry with a GET request for with RequestedChannels=1.

Example: Download MP3 media in dual-channel format

Append .mp3?RequestedChannels=2 to your Recording's URL


Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/ACXXXXX.../Recordings/RE557ce644e5ab84fa21cc21112e22c485.mp3?RequestedChannels=2
Example: Download WAV media in dual-channel format

Append .wav?RequestedChannels=2to your Recording's URL


Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/ACXXXXX.../Recordings/RE557ce644e5ab84fa21cc21112e22c485.wav?RequestedChannels=2
Retrieve a Transcription for a Recording


Each Recording has a Transcriptions subresource which represents the set of transcriptions generated from the recording (if any):


Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Recordings/{RecordingSid}/Transcriptions
This will return the set of transcriptions available for the recording identified by {RecordingSid}. Learn more about the Transcriptions resource.

Retrieve a list of Recordings



Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Recordings.json
This API call returns a list of Recordings, each representing a recording generated during a call or conference for the given account. The list returned includes paging information.

(warning)
Warning
The list of Recordings is protected by your account credentials like most parts of this API. You must use HTTP basic auth to access the Recordings resource.

You can also get a list of Recordings from a specific call or conference by including the call or conference SID in your request like so:


Copy code block
GET https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}/Recordings.json
GET https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Conferences/{ConferenceSid}/Recordings.json